(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ViewProjects"],{"1c2b":function(e,t,c){},2975:function(e,t,c){"use strict";c("dfb4")},"73bf":function(e,t,c){"use strict";c.r(t);var i=c("7a23");const n=Object(i["F"])("data-v-1b02d546");Object(i["t"])("data-v-1b02d546");const o={class:"v-view-projects"},r={class:"v-view-projects__year"};Object(i["r"])();const s=n((e,t,c,n,s,a)=>{const d=Object(i["y"])("Project");return Object(i["q"])(),Object(i["e"])("section",o,[(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(e.sortedProjects,(t,c)=>(Object(i["q"])(),Object(i["e"])("div",null,[Object(i["h"])("div",r,[Object(i["h"])("h5",null,Object(i["B"])(c),1)]),(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(t,(t,n)=>(Object(i["q"])(),Object(i["e"])(d,{data:t,stringProjectId:`${c}${n}`,onClick:t=>e.projectClicked(`${c}${n}`)},null,8,["data","stringProjectId","onClick"]))),256))]))),256))])}),a=Object(i["F"])("data-v-48ec8cb0");Object(i["t"])("data-v-48ec8cb0");const d={ref:"container",class:"v-project__container"},b={class:"v-project__title t-title"},j={key:0,class:"v-project__description-container"};Object(i["r"])();const O=a((e,t,c,n,o,r)=>{const s=Object(i["y"])("exhibition");return Object(i["q"])(),Object(i["e"])("section",{class:[{"is-closed":!e.thisIsOpen},"v-project"],style:e.style},[Object(i["h"])("div",d,[Object(i["h"])("h1",b,Object(i["B"])(e.data.title),1),e.data.description?(Object(i["q"])(),Object(i["e"])("div",j,[Object(i["h"])("div",{class:"v-project__description-viewer",style:e.descriptionViewerStyle},[Object(i["h"])("div",{ref:"descriptionContainer",class:"v-project__description-container",innerHTML:e.data.description},null,8,["innerHTML"])],4),e.showReadMoreButton?(Object(i["q"])(),Object(i["e"])("button",{key:0,class:"v-project__description__more",onClick:t[1]||(t[1]=(...t)=>e.toggleDescriptionView&&e.toggleDescriptionView(...t))},Object(i["B"])(e.readMoreButtonText),1)):Object(i["f"])("",!0)])):Object(i["f"])("",!0),(Object(i["q"])(!0),Object(i["e"])(i["a"],null,Object(i["w"])(e.exhibitions,e=>(Object(i["q"])(),Object(i["e"])(s,{data:e},null,8,["data"]))),256))],512)],6)}),l=Object(i["F"])("data-v-cc9d0cfe");Object(i["t"])("data-v-cc9d0cfe");const h={class:"v-exhibition"},p=Object(i["h"])("div",{class:"t-text-subtitle"},"Exhibition",-1),u={key:0},v={key:1};Object(i["r"])();const g=l((e,t,c,n,o,r)=>(Object(i["q"])(),Object(i["e"])("section",h,[p,e.data.exhibition_title?(Object(i["q"])(),Object(i["e"])("p",u,Object(i["B"])(e.data.exhibition_title)+", "+Object(i["B"])(new Date(e.data.date).getFullYear()),1)):Object(i["f"])("",!0),e.data.partenariat_description?(Object(i["q"])(),Object(i["e"])("p",v,Object(i["B"])(e.data.partenariat_description),1)):Object(i["f"])("",!0)])));var f=Object(i["i"])({name:"Exhibition",props:{data:{type:Object,required:!0}}});f.render=g,f.__scopeId="data-v-cc9d0cfe";var w=f,_=c("5502"),m=c("0613"),x=Object(i["i"])({name:"Project",components:{Exhibition:w},props:{data:{type:Object,required:!0},stringProjectId:{type:String,required:!0}},mounted:function(){var e=this,t=3,c=20;this.$nextTick((function(){var i=e.$refs.descriptionContainer;if(i instanceof HTMLElement&&i.children.length>t){e.hasLongContent=!0;for(var n=0;n<t;n++)e.minHeightForLongContent+=i.children[n].getBoundingClientRect().height+t*c;e.descriptionViewerStyle.maxHeight=e.minHeightForLongContent+"px"}}))},methods:{toggleDescriptionView:function(){this.readMoreIsOpen=!this.readMoreIsOpen;var e=this.$refs.descriptionContainer;e instanceof HTMLElement?this.readMoreIsOpen?this.descriptionViewerStyle.maxHeight=e.getBoundingClientRect().height+"px":this.descriptionViewerStyle.maxHeight=this.minHeightForLongContent+"px":this.descriptionViewerStyle.maxHeight=""}},data:function(){return{store:Object(_["b"])(m["b"]),style:{maxHeight:"O"},descriptionViewerStyle:{maxHeight:""},hasLongContent:!1,minHeightForLongContent:0,readMoreIsOpen:!1}},computed:{exhibitions:function(){return this.data.exhibition_links||[]},showReadMoreButton:function(){return this.hasLongContent},thisIsOpen:function(){return this.stringProjectId===this.store.state.idOfOpenedProject},readMoreButtonText:function(){return this.readMoreIsOpen?"show less":"read more"}},watch:{thisIsOpen:function(){this.thisIsOpen&&this.$refs["container"]instanceof HTMLElement?this.style.maxHeight=this.$refs["container"].getBoundingClientRect().height+"px":this.style.maxHeight=""}}});c("2975");x.render=O,x.__scopeId="data-v-48ec8cb0";var y=x;const q=Object(i["F"])("data-v-7d7ec0fa");Object(i["t"])("data-v-7d7ec0fa");const C={class:"v-toggle-table"},I={class:"v-toggle-table__title"};Object(i["r"])();const H=q((e,t,c,n,o,r)=>(Object(i["q"])(),Object(i["e"])("section",C,[Object(i["h"])("div",I,[Object(i["x"])(e.$slots,"title")]),Object(i["h"])("div",null,[Object(i["x"])(e.$slots,"default")])])));var k=Object(i["i"])({name:"ToggleTable"});k.render=H,k.__scopeId="data-v-7d7ec0fa";var M=k,P=Object(i["i"])({name:"ViewProjects",components:{ToggleTable:M,Project:y},data:function(){return{store:Object(_["b"])(m["b"])}},methods:{projectClicked:function(e){this.store.state.idOfOpenedProject=e,console.log("project clicked",e)}},computed:{sortedProjects:function(){for(var e={},t=0,c=this.store.state.projects;t<c.length;t++){var i=c[t];if(i.date){var n=new Date(i.date).getFullYear();e.hasOwnProperty(n)?e[n].push(i):e[n]=[i]}}return e}}});c("c1e7");P.render=s,P.__scopeId="data-v-1b02d546";t["default"]=P},"7bb9":function(e,t,c){"use strict";c.r(t);var i=c("7a23");const n=Object(i["F"])("data-v-9ece2468");Object(i["t"])("data-v-9ece2468");const o={class:"v-view-about"};Object(i["r"])();const r=n((e,t,c,n,r,s)=>(Object(i["q"])(),Object(i["e"])("section",o," about view ")));var s=Object(i["i"])({name:"ViewAbout"});s.render=r,s.__scopeId="data-v-9ece2468";t["default"]=s},c1e7:function(e,t,c){"use strict";c("1c2b")},dfb4:function(e,t,c){}}]);
//# sourceMappingURL=ViewProjects.fa528419.js.map